<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2020-04-20 Form validering</title>
</head>
<body>
    <form id="myForm" method="POST">
        <fieldset>
            <div>
                <label for="firstname">Fornavn:</label>
                <input type="text" name="firstname" id="firstname">
            </div>
            <div>
                <label for="lastname">Efternavn:</label>
                <input type="text" name="lastname" id="lastname">
            </div>
            <div>
                <label for="accept">Accept:</label>
                <input required type="checkbox" name="accept" id="accept">           
            </div>
            <div>
                <button type="button" id="send" class="btn btn-success">Send</button>
            </div>
        </fieldset>
    </form>

    <script>
        let btn = document.getElementById('send');
        let msg = '<span class="text-error">Du skal altså udfylde feltet!!!</span>';
        btn.addEventListener("click", function() {
            let hasErrors = false;
            
            let firstname = document.getElementById("firstname");
            if(!firstname.value) {
                if(!firstname.nextElementSibling) {
                    //Indsæt msg efter det pågældende felts sluttag
                    firstname.insertAdjacentHTML('afterend', msg);
                }
                firstname.style.borderColor = 'red';
                firstname.focus();
                hasErrors = true;
                return false;
            }

            let lastname = document.getElementById("lastname");
            if(!document.getElementById("lastname").value) {
                if(!lastname.nextElementSibling) {
                    //Indsæt msg efter det pågældende felts sluttag
                    lastname.insertAdjacentHTML('afterend', msg);
                }
                lastname.focus();
                hasErrors = true;
                return false;
            }            

            let accept = document.getElementById("accept");
            if(!accept.checked) {
                if(!accept.nextElementSibling) {
                    let msg = '<span class="text-error">Du skal acceptere!</span>';
                    //Indsæt msg efter det pågældende felts sluttag
                    accept.insertAdjacentHTML('afterend', msg);
                }
                accept.focus();
                hasErrors = true;
                return false;
            }            

            if(!hasErrors) {
                document.getElementById("myForm").submit();
            }

        });
    </script>
</body>
</html>