<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Validering</title>
    <style>
        .error {
            color: red;
        }
    </style>
</head>
<body>

    <form id="myForm">
        <div>
            <input type="text" id="fullname" name="fullname" value="" placeholder="Indtast navn">
        </div>
        <div>
            <input type="email" id="email" name="email" value="" placeholder="Indtast email">
        </div>
        <div>
            <button type="submit" id="sendform">Send</button>
        </div>
    </form>

    <script>
        // Henter form element ud fra id
        let form = document.getElementById('myForm');
        // Sætter var status til true
        let status = true;

        let errormessage = `<span class="error">Du skal udfylde feltet</span>`;
        
        // Hvis form bliver submitted...
        form.onsubmit = function(e) {
            // Annuller standard handling
            e.preventDefault();

            // Hvis værdi af #fullname er falsk (this er lig med form der submittes)
            if(!this.fullname.value) {
                // Fejl besked
                if(!this.fullname.nextElementSibling) {
                    this.fullname.insertAdjacentHTML('afterend', errormessage);
                    
                    this.fullname.onkeyup = function() {
                        if(this.nextElementSibling) {
                            this.nextElementSibling.remove();
                        }
                    }
                }
                // Sæt status til false
                status = false;            
            }

            // Hvis status er sand
            if(status) {
                // Submit form
                this.submit();
            }
        }        
    </script>
    
</body>
</html>